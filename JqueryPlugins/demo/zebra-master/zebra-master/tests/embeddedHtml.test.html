<!DOCTYPE html>
<html style="height:100%">
	<head>

	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="msapplication-tap-highlight" content="no" />

	<script src='../src/easyoop.js'    type='text/javascript'></script>
	<script src='../src/util.js' type='text/javascript'></script>
	<script src='../src/io.js'    type='text/javascript'></script>
	<script src='../src/data.js' type='text/javascript'></script>
	<script src='../src/layout.js' type='text/javascript'></script>
	<script src='../src/ui.webstuff.js' type='text/javascript'></script>
	<script src='../src/canvas.js' type='text/javascript'></script>
	<script src='../src/ui.js' type='text/javascript'></script>


	<script src='../src/ui.TextField.js' type='text/javascript'></script>
	<script src='../src/ui.list.js' type='text/javascript'></script>
	<script src='../src/ui.window.js' type='text/javascript'></script>
	<script src='../src/ui.tree.js' type='text/javascript'></script>
	<script src='../src/ui.grid.js' type='text/javascript'></script>
	<script src='../src/ui.vk.js' type='text/javascript'></script>
	<script src='../src/ui.html.js' type='text/javascript'></script>
        
		<script type='text/javascript'>
		    zebra.ready(function() {
			    eval(zebra.Import("ui", "layout"));

		 		var canvas = new zCanvas("test1", 600, 300);
		 		var tabs = new Tabs(), b = new Button("Test");
		 		tabs.add("Tab1 ", new Panel({  
		 			layout: new BorderLayout(8,8),
		 			padding:4,
		 			kids  : {
		 				CENTER: new HtmlTextArea("Test1").properties({padding:10}),
		 				BOTTOM: b
		 			}
		 		}));

		 		var xx = 20, yy = 20;
		 		b.bind(function() {
		 			canvas.canvas.style.position="fixed";
		 			canvas.canvas.style.left=xx + "px";
		 			canvas.canvas.style.top=yy + "px";
		 			xx +=20;
		 			yy += 20;
		 		});
			
				var cont = new HtmlContent();
				tabs.add("Load", cont);
				cont.loadContent("embeddedHtml.test.content");
				cont.setPadding(8);


				tabs.add("Tab2 ", new HtmlTextArea([
					function a() {

					}
				]));

		 		tabs.add("Tab2 ", new HtmlTextArea([
		 			function mouseEntered(e) {
		 				console.log("e.x = " + e.x + "," + e.y);
		 			}

		 		]));
		 		canvas.root.setLayout(new BorderLayout());
		 		canvas.root.add(CENTER, tabs);

		 		var canvas = new zCanvas("test2", 600, 400);
		 		canvas.root.load("embeddedHtml.test.json");
		 		canvas.root.setBackground(null);
		 		
				canvas.root.find("//*[@id='Login/Login']").bind(function() {
					canvas.root.find("#login").setVisible(false); 
					canvas.root.find("#welcome").setVisible(true);
				});
		 		
				canvas.root.findAll("//*[@id='welcome']//zebra.ui.Button", function(b) {
					b.bind(function() {
						canvas.root.find("#welcome").setVisible(false); 
						canvas.root.find("#newAccount").setVisible(true);
					});
				})

				canvas.root.find("//*[@id='NewAccount/Confirm']").bind(function() {
					canvas.root.find("#newAccount").setVisible(false); 
					canvas.root.find("#login").setVisible(true);
				});
		 	});
		</script>
	</head>

	<body bgcolor="#EEEEEE" align="center" style="height:100%;padding:15px;">

	    <table height="100%" width="100%" border="1">
	    	<tr height="50%">
	    		<td>
	    			<canvas id="test1"> </canvas>			
	    		</td>
	    	</tr>

	    	<tr height="50%">
	    		<td >
	    			<canvas id="test2"> </canvas>			
	    		</td>
	    	</tr>
	    </table>
	    
	</body>
</html>